import{d as U,u as w,r as N,a as b,o as C,c as k,w as i,b as l,e as a,f as y,_ as M}from"./index-e2ac1f11.js";const j=U({__name:"InvestInfo",setup(F){const x=w(),o=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),g=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:2});let I={buying_price:3e6,friction_cost:15e4,financing_amount:5e5,financing_rate:6,paying_rate:.3,loan_length:360,loan_rate:4,rent_income_per_month:3e3,sold_price:4e6,month_number:36},e=N(JSON.parse(localStorage.getItem("investState")||JSON.stringify(I)));function q(){localStorage.clear(),location.reload()}function h(){let s=e.buying_price*(1-e.paying_rate),n=S(s,e.loan_length,e.loan_rate,e.month_number),r=n[0],u=n[1],p=n[2],_=e.financing_amount*e.financing_rate/12/100*e.month_number,t=e.rent_income_per_month*e.month_number,c=e.buying_price-s,m=c+e.friction_cost+_+r*e.month_number-e.financing_amount-t,f=e.sold_price-u-e.financing_amount-m,v=m+e.financing_amount+u,d={买入房价:o.format(e.buying_price),摩擦成本:o.format(e.friction_cost),首付金额:o.format(c),贷款金额:o.format(s),贷款利息成本:o.format(p),融资金额:o.format(e.financing_amount),融资成本:o.format(_),贷款月还款:o.format(r),租金月收益:o.format(e.rent_income_per_month),平仓价格:o.format(v),卖出房价:o.format(e.sold_price),实际收益资金:o.format(f),实际支付资金:o.format(m),收益率:m>0?g.format(f/m):1/0,年化收益率:m>0?g.format(f/m/e.month_number*12):1/0};localStorage.setItem("investState",JSON.stringify(e)),x.push({name:"result",query:d})}function S(s,n,r,u){let p=s,_=n,t=r/12/100,c=p*t*Math.pow(1+t,_)/(Math.pow(1+t,_)-1),m=0,f=0;for(let d=0;d<u;d++)m+=c,f+=p*t*Math.pow(1+t,d)/(Math.pow(1+t,_)-1);let v=m-f;return[c,s-f,v]}return(s,n)=>{const r=b("a-input-number"),u=b("a-form-item"),p=b("a-button"),_=b("a-form");return C(),k(_,{model:l(e),name:"basic",autocomplete:"off"},{default:i(()=>[a(u,{label:"购房价格",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).buying_price,"onUpdate:value":n[0]||(n[0]=t=>l(e).buying_price=t)},null,8,["value"])]),_:1}),a(u,{label:"摩擦成本",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).friction_cost,"onUpdate:value":n[1]||(n[1]=t=>l(e).friction_cost=t)},null,8,["value"])]),_:1}),a(u,{label:"融资金额",min:0,rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).financing_amount,"onUpdate:value":n[2]||(n[2]=t=>l(e).financing_amount=t)},null,8,["value"])]),_:1}),a(u,{label:"融资年化利率%",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).financing_rate,"onUpdate:value":n[3]||(n[3]=t=>l(e).financing_rate=t)},null,8,["value"])]),_:1}),a(u,{label:"首付比例(0-1)",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,max:1,step:.1,class:"input-number",value:l(e).paying_rate,"onUpdate:value":n[4]||(n[4]=t=>l(e).paying_rate=t)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款年限(月)",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).loan_length,"onUpdate:value":n[5]||(n[5]=t=>l(e).loan_length=t)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款利率%",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).loan_rate,"onUpdate:value":n[6]||(n[6]=t=>l(e).loan_rate=t)},null,8,["value"])]),_:1}),a(u,{label:"房租月化租金",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).rent_income_per_month,"onUpdate:value":n[7]||(n[7]=t=>l(e).rent_income_per_month=t)},null,8,["value"])]),_:1}),a(u,{label:"卖出房价",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).sold_price,"onUpdate:value":n[8]||(n[8]=t=>l(e).sold_price=t)},null,8,["value"])]),_:1}),a(u,{label:"实际持有周期（月）",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).month_number,"onUpdate:value":n[9]||(n[9]=t=>l(e).month_number=t)},null,8,["value"])]),_:1}),a(p,{style:{"margin-right":"30px"},type:"primary",onClick:h},{default:i(()=>[y("计算")]),_:1}),a(p,{onClick:q},{default:i(()=>[y("重置")]),_:1})]),_:1},8,["model"])}}});const O=M(j,[["__scopeId","data-v-545e6136"]]);export{O as default};
