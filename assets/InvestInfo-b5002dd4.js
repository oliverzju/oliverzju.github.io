import{d as N,u as C,r as k,a as b,o as M,c as j,b as a,w as i,e as l,f as y,_ as F}from"./index-9c3c44b1.js";const J={style:{background:"#ececec",padding:"2px"}},O=N({__name:"InvestInfo",setup(z){const x=C(),o=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),g=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:2});let I={unit_price:26e3,unit_area:130,friction_cost:15e4,financing_amount:5e5,financing_rate:6,paying_rate:.3,loan_length:360,loan_rate:4,rent_income_per_month:3e3,unit_sold_price:36e3,month_number:36},e=k(JSON.parse(localStorage.getItem("investState")||JSON.stringify(I)));function q(){localStorage.clear(),location.reload()}function U(){let c=e.unit_price*e.unit_area,t=e.unit_sold_price*e.unit_area,r=c*(1-e.paying_rate),u=h(r,e.loan_length,e.loan_rate,e.month_number),s=u[0],p=u[1],_=u[2],n=e.financing_amount*e.financing_rate/12/100*e.month_number,v=e.rent_income_per_month*e.month_number,d=c-r,m=d+e.friction_cost+n+s*e.month_number-e.financing_amount-v,f=t-p-e.financing_amount-m,S=m+e.financing_amount+p,w={买入单价:o.format(e.unit_price),买入总价:o.format(c),摩擦成本:o.format(e.friction_cost),首付金额:o.format(d),贷款金额:o.format(r),贷款利息成本:o.format(_),融资金额:o.format(e.financing_amount),融资成本:o.format(n),贷款月还款:o.format(s),租金月收益:o.format(e.rent_income_per_month),平仓价格:o.format(S),卖出单价:o.format(e.unit_sold_price),卖出总价:o.format(t),实际收益资金:o.format(f),实际支付资金:o.format(m),收益率:m>0?g.format(f/m):1/0,年化收益率:m>0?g.format(f/m/e.month_number*12):1/0};localStorage.setItem("investState",JSON.stringify(e)),x.push({name:"result",query:w})}function h(c,t,r,u){let s=c,p=t,_=r/12/100,n=s*_*Math.pow(1+_,p)/(Math.pow(1+_,p)-1),v=0,d=0;for(let f=0;f<u;f++)v+=n,d+=s*_*Math.pow(1+_,f)/(Math.pow(1+_,p)-1);let m=v-d;return[n,c-d,m]}return(c,t)=>{const r=b("a-input-number"),u=b("a-form-item"),s=b("a-button"),p=b("a-form"),_=b("a-card");return M(),j("div",J,[a(_,{size:"small",title:"房屋信息",hoverable:!0},{default:i(()=>[a(p,{model:l(e),name:"basic",autocomplete:"off"},{default:i(()=>[a(u,{label:"买入单价",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_price,"onUpdate:value":t[0]||(t[0]=n=>l(e).unit_price=n)},null,8,["value"])]),_:1}),a(u,{label:"房屋面积",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_area,"onUpdate:value":t[1]||(t[1]=n=>l(e).unit_area=n)},null,8,["value"])]),_:1}),a(u,{label:"摩擦成本",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).friction_cost,"onUpdate:value":t[2]||(t[2]=n=>l(e).friction_cost=n)},null,8,["value"])]),_:1}),a(u,{label:"融资金额",min:0,rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).financing_amount,"onUpdate:value":t[3]||(t[3]=n=>l(e).financing_amount=n)},null,8,["value"])]),_:1}),a(u,{label:"融资年化利率%",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).financing_rate,"onUpdate:value":t[4]||(t[4]=n=>l(e).financing_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"首付比例(0-1)",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,max:1,step:.1,class:"input-number",value:l(e).paying_rate,"onUpdate:value":t[5]||(t[5]=n=>l(e).paying_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款年限(月)",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).loan_length,"onUpdate:value":t[6]||(t[6]=n=>l(e).loan_length=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款利率%",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).loan_rate,"onUpdate:value":t[7]||(t[7]=n=>l(e).loan_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"房租月化租金",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).rent_income_per_month,"onUpdate:value":t[8]||(t[8]=n=>l(e).rent_income_per_month=n)},null,8,["value"])]),_:1}),a(u,{label:"卖出房价",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_sold_price,"onUpdate:value":t[9]||(t[9]=n=>l(e).unit_sold_price=n)},null,8,["value"])]),_:1}),a(u,{label:"实际持有周期(月)",rules:[{required:!0}]},{default:i(()=>[a(r,{min:0,class:"input-number",value:l(e).month_number,"onUpdate:value":t[10]||(t[10]=n=>l(e).month_number=n)},null,8,["value"])]),_:1}),a(s,{style:{"margin-right":"30px"},type:"primary",onClick:U},{default:i(()=>[y("计算")]),_:1}),a(s,{onClick:q},{default:i(()=>[y("重置")]),_:1})]),_:1},8,["model"])]),_:1})])}}});const V=F(O,[["__scopeId","data-v-4c3dd5a1"]]);export{V as default};
