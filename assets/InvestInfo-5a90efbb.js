import{d as U,u as w,r as N,a as b,o as C,c as k,b as a,w as o,e as l,f as y,_ as M}from"./index-5ef7c4a7.js";const j={style:{background:"#ececec",padding:"2px"}},F=U({__name:"InvestInfo",setup(J){const x=w(),i=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}),g=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:2});let I={buying_price:3e6,friction_cost:15e4,financing_amount:5e5,financing_rate:6,paying_rate:.3,loan_length:360,loan_rate:4,rent_income_per_month:3e3,sold_price:4e6,month_number:36},e=N(JSON.parse(localStorage.getItem("investState")||JSON.stringify(I)));function h(){localStorage.clear(),location.reload()}function q(){let p=e.buying_price*(1-e.paying_rate),t=S(p,e.loan_length,e.loan_rate,e.month_number),r=t[0],u=t[1],c=t[2],s=e.financing_amount*e.financing_rate/12/100*e.month_number,m=e.rent_income_per_month*e.month_number,n=e.buying_price-p,_=n+e.friction_cost+s+r*e.month_number-e.financing_amount-m,f=e.sold_price-u-e.financing_amount-_,v=_+e.financing_amount+u,d={买入房价:i.format(e.buying_price),摩擦成本:i.format(e.friction_cost),首付金额:i.format(n),贷款金额:i.format(p),贷款利息成本:i.format(c),融资金额:i.format(e.financing_amount),融资成本:i.format(s),贷款月还款:i.format(r),租金月收益:i.format(e.rent_income_per_month),平仓价格:i.format(v),卖出房价:i.format(e.sold_price),实际收益资金:i.format(f),实际支付资金:i.format(_),收益率:_>0?g.format(f/_):1/0,年化收益率:_>0?g.format(f/_/e.month_number*12):1/0};localStorage.setItem("investState",JSON.stringify(e)),x.push({name:"result",query:d})}function S(p,t,r,u){let c=p,s=t,m=r/12/100,n=c*m*Math.pow(1+m,s)/(Math.pow(1+m,s)-1),_=0,f=0;for(let d=0;d<u;d++)_+=n,f+=c*m*Math.pow(1+m,d)/(Math.pow(1+m,s)-1);let v=_-f;return[n,p-f,v]}return(p,t)=>{const r=b("a-input-number"),u=b("a-form-item"),c=b("a-button"),s=b("a-form"),m=b("a-card");return C(),k("div",j,[a(m,{size:"small",title:"房屋信息",hoverable:!0},{default:o(()=>[a(s,{model:l(e),name:"basic",autocomplete:"off"},{default:o(()=>[a(u,{label:"购房价格",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).buying_price,"onUpdate:value":t[0]||(t[0]=n=>l(e).buying_price=n)},null,8,["value"])]),_:1}),a(u,{label:"摩擦成本",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).friction_cost,"onUpdate:value":t[1]||(t[1]=n=>l(e).friction_cost=n)},null,8,["value"])]),_:1}),a(u,{label:"融资金额",min:0,rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).financing_amount,"onUpdate:value":t[2]||(t[2]=n=>l(e).financing_amount=n)},null,8,["value"])]),_:1}),a(u,{label:"融资年化利率%",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).financing_rate,"onUpdate:value":t[3]||(t[3]=n=>l(e).financing_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"首付比例(0-1)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,max:1,step:.1,class:"input-number",value:l(e).paying_rate,"onUpdate:value":t[4]||(t[4]=n=>l(e).paying_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款年限(月)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).loan_length,"onUpdate:value":t[5]||(t[5]=n=>l(e).loan_length=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款利率%",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).loan_rate,"onUpdate:value":t[6]||(t[6]=n=>l(e).loan_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"房租月化租金",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).rent_income_per_month,"onUpdate:value":t[7]||(t[7]=n=>l(e).rent_income_per_month=n)},null,8,["value"])]),_:1}),a(u,{label:"卖出房价",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).sold_price,"onUpdate:value":t[8]||(t[8]=n=>l(e).sold_price=n)},null,8,["value"])]),_:1}),a(u,{label:"实际持有周期（月）",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).month_number,"onUpdate:value":t[9]||(t[9]=n=>l(e).month_number=n)},null,8,["value"])]),_:1}),a(c,{style:{"margin-right":"30px"},type:"primary",onClick:q},{default:o(()=>[y("计算")]),_:1}),a(c,{onClick:h},{default:o(()=>[y("重置")]),_:1})]),_:1},8,["model"])]),_:1})])}}});const z=M(F,[["__scopeId","data-v-69dbdc6e"]]);export{z as default};
