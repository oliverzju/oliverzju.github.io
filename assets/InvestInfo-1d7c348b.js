import{d as J,u as O,r as F,a as v,o as M,c as j,b as a,w as o,e as l,f as I,_ as z}from"./index-5ea06ff1.js";const B={style:{background:"#ececec",padding:"2px"}},D=J({__name:"InvestInfo",setup(V){const h=O(),i=new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY",maximumFractionDigits:0}),y=new Intl.NumberFormat(void 0,{style:"percent",maximumFractionDigits:2});let q={unit_price:26e3,unit_area:130,friction_rate:9,financing_amount:5e5,financing_rate:6,paying_rate:.3,loan_length:360,loan_rate:4,rent_income_per_month:3e3,rent_empty_month:0,unit_sold_price:36e3,sold_friction_rate:1,month_number:36},e=F(JSON.parse(localStorage.getItem("investState")||JSON.stringify(q))),S=JSON.parse(localStorage.getItem("resultState_list"))||[];function U(){localStorage.removeItem("investState"),location.reload()}function N(){let s=e.unit_price*e.unit_area,t=e.unit_sold_price*e.unit_area,r=s*(1-e.paying_rate),u=w(r,e.loan_length,e.loan_rate,e.month_number),p=e.friction_rate/100*s+e.sold_friction_rate/100*t,f=u[0],_=u[1],n=u[2],c=e.financing_amount*e.financing_rate/12/100*e.month_number,d=e.rent_income_per_month*(e.month_number-e.rent_empty_month),b=s-r,m=b+p+c+f*e.month_number-e.financing_amount-d,g=t-_-e.financing_amount-m,x=m+e.financing_amount+_,C=x/e.unit_area,k={买入单价:i.format(e.unit_price),买入总价:i.format(s),"税及中介费（含买入和卖出）":i.format(p),首付金额:i.format(b),贷款金额:i.format(r),贷款利息成本:i.format(n),融资金额:i.format(e.financing_amount),融资成本:i.format(c),贷款月还款:i.format(f),租金月收益:i.format(e.rent_income_per_month),"房租空置期(月)":e.rent_empty_month,平仓总价:i.format(x),平仓单价:i.format(C),卖出单价:i.format(e.unit_sold_price),卖出总价:i.format(t),实际收益资金:i.format(g),实际支付资金:i.format(m),"持有周期(年)":e.month_number/12,收益率:m>0?y.format(g/m):1/0,年化收益率:m>0?y.format(g/m/e.month_number*12):1/0};localStorage.setItem("investState",JSON.stringify(e)),S.push(k),localStorage.setItem("resultState_list",JSON.stringify(S)),h.push({name:"result"})}function w(s,t,r,u){let p=s,f=t,_=r/12/100,n=p*_*Math.pow(1+_,f)/(Math.pow(1+_,f)-1),c=0,d=0;for(let m=0;m<u;m++)c+=n,d+=p*_*Math.pow(1+_,m)/(Math.pow(1+_,f)-1);let b=c-d;return[n,s-d,b]}return(s,t)=>{const r=v("a-input-number"),u=v("a-form-item"),p=v("a-button"),f=v("a-form"),_=v("a-card");return M(),j("div",B,[a(_,{size:"small",title:"房屋信息",hoverable:!0},{default:o(()=>[a(f,{model:l(e),name:"basic",autocomplete:"off"},{default:o(()=>[a(u,{label:"买入单价",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_price,"onUpdate:value":t[0]||(t[0]=n=>l(e).unit_price=n)},null,8,["value"])]),_:1}),a(u,{label:"房屋面积",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_area,"onUpdate:value":t[1]||(t[1]=n=>l(e).unit_area=n)},null,8,["value"])]),_:1}),a(u,{label:"购房税及中介费率(%)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).friction_rate,"onUpdate:value":t[2]||(t[2]=n=>l(e).friction_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"融资金额",min:0,rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).financing_amount,"onUpdate:value":t[3]||(t[3]=n=>l(e).financing_amount=n)},null,8,["value"])]),_:1}),a(u,{label:"融资年化利率(%)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).financing_rate,"onUpdate:value":t[4]||(t[4]=n=>l(e).financing_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"首付比例(0-1)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,max:1,step:.1,class:"input-number",value:l(e).paying_rate,"onUpdate:value":t[5]||(t[5]=n=>l(e).paying_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款年限(月)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).loan_length,"onUpdate:value":t[6]||(t[6]=n=>l(e).loan_length=n)},null,8,["value"])]),_:1}),a(u,{label:"按揭贷款利率%",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,step:.1,class:"input-number",value:l(e).loan_rate,"onUpdate:value":t[7]||(t[7]=n=>l(e).loan_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"房租月租金",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).rent_income_per_month,"onUpdate:value":t[8]||(t[8]=n=>l(e).rent_income_per_month=n)},null,8,["value"])]),_:1}),a(u,{label:"房租空置期(月)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).rent_empty_month,"onUpdate:value":t[9]||(t[9]=n=>l(e).rent_empty_month=n)},null,8,["value"])]),_:1}),a(u,{label:"卖出房价",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).unit_sold_price,"onUpdate:value":t[10]||(t[10]=n=>l(e).unit_sold_price=n)},null,8,["value"])]),_:1}),a(u,{label:"卖房税及中介费率(%)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).sold_friction_rate,"onUpdate:value":t[11]||(t[11]=n=>l(e).sold_friction_rate=n)},null,8,["value"])]),_:1}),a(u,{label:"实际持有周期(月)",rules:[{required:!0}]},{default:o(()=>[a(r,{min:0,class:"input-number",value:l(e).month_number,"onUpdate:value":t[12]||(t[12]=n=>l(e).month_number=n)},null,8,["value"])]),_:1}),a(p,{style:{"margin-right":"30px"},type:"primary",onClick:N},{default:o(()=>[I("计算")]),_:1}),a(p,{onClick:U},{default:o(()=>[I("重置")]),_:1})]),_:1},8,["model"])]),_:1})])}}});const R=z(D,[["__scopeId","data-v-c5a3eac9"]]);export{R as default};
